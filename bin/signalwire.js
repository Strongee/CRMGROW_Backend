const { RelayClient, RestClient } = require('@signalwire/node');
const request = require('request-promise');
const api = require('../config/api');

const client = new RestClient('YourProjectID', 'YourAuthToken', {
  signalwireSpaceUrl: api.WORKSPACE_DOMAIN,
});

const client1 = new RelayClient({
  project: '4e0e6aa3-56f5-4f62-9c58-02375d0b67e7',
  token: 'PT6f14a8f00f1faf32b55753484f7e526faa03b822c87f7ad4',
});

async function main() {
  client.on('signalwire.ready', async (client) => {
    const sendResult = await client.messaging.send({
      context: 'office',
      from: '+12242592312',
      to: '+â€ª13124938446',
      body: 'Welcome at SignalWire!',
    });

    if (sendResult.successful) {
      console.log('Message ID: ', sendResult.messageId);
    }
    console.log('sendResult', sendResult);
  });

  client.connect();
}

const phone_numbers = [
  '+1 (619) 731-0832',
  '+1 (619) 731-0827',
  '+1 (619) 731-0824',
  '+1 (619) 731-0823',
  '+1 (619) 731-0822',
  '+1 (619) 731-0817',
  '+1 (619) 731-0810',
  '+1 (619) 731-0809',
  '+1 (619) 731-0807',
  '+1 (619) 731-0805',
  '+1 (619) 731-0798',
  '+1 (619) 731-0797',
  '+1 (619) 731-0794',
  '+1 (619) 731-0786',
  '+1 (619) 731-0784',
  '+1 (619) 731-0783',
  '+1 (619) 731-0776',
  '+1 (619) 731-0775',
  '+1 (619) 731-0772',
  '+1 (619) 731-0771',
  '+1 (619) 731-0764',
  '+1 (619) 731-0763',
  '+1 (619) 731-0760',
  '+1 (619) 731-0758',
  '+1 (619) 731-0756',
  '+1 (619) 731-0755',
  '+1 (619) 731-0753',
  '+1 (619) 731-0746',
  '+1 (619) 731-0744',
  '+1 (619) 731-0741',
  '+1 (619) 731-0739',
  '+1 (619) 731-0738',
  '+1 (619) 731-0732',
  '+1 (619) 731-0728',
  '+1 (619) 731-0727',
  '+1 (619) 731-0724',
  '+1 (619) 731-0722',
  '+1 (619) 731-0721',
  '+1 (619) 731-0716',
  '+1 (619) 731-0714',
  '+1 (619) 731-0696',
  '+1 (619) 731-0694',
  '+1 (619) 731-0687',
  '+1 (619) 731-0681',
  '+1 (619) 731-0679',
  '+1 (619) 731-0671',
  '+1 (619) 731-0667',
  '+1 (619) 731-0662',
  '+1 (619) 731-0657',
  '+1 (619) 728-7630',
  '+1 (619) 728-7362',
  '+1 (619) 728-7075',
  '+1 (619) 728-7048',
  '+1 (619) 728-7039',
  '+1 (619) 728-7026',
  '+1 (619) 728-7007',
  '+1 (619) 728-6966',
  '+1 (619) 728-6753',
  '+1 (619) 728-6564',
  '+1 (619) 728-6265',
  '+1 (619) 728-4588',
  '+1 (619) 728-4503',
  '+1 (619) 722-9235',
  '+1 (619) 722-5789',
  '+1 (619) 713-9486',
  '+1 (619) 678-2475',
  '+1 (619) 663-5947',
  '+1 (619) 625-6999',
  '+1 (619) 625-6983',
  '+1 (619) 597-7479',
  '+1 (619) 569-2314',
  '+1 (619) 552-2932',
  '+1 (619) 552-2672',
  '+1 (619) 468-5419',
  '+1 (619) 468-4463',
  '+1 (619) 452-0988',
  '+1 (619) 452-0537',
  '+1 (619) 438-0977',
  '+1 (619) 413-4453',
  '+1 (619) 377-3591',
  '+1 (619) 375-3013',
  '+1 (619) 374-3437',
  '+1 (619) 363-7430',
  '+1 (619) 363-6836',
  '+1 (619) 363-6642',
  '+1 (619) 354-7858',
  '+1 (619) 354-2634',
  '+1 (619) 354-2413',
  '+1 (619) 354-1385',
  '+1 (619) 345-3384',
  '+1 (619) 345-0019',
  '+1 (702) 899-5130',
  '+1 (702) 874-4608',
  '+1 (801) 624-6940',
  '+1 (801) 658-2091',
  '+1 (614) 423-5329',
  '+1 (614) 426-8228',
  '+1 (843) 273-6092',
  '+1 (413) 749-4946',
  '+1 (312) 761-9533',
  '+1 (224) 259-2312',
  '+1 (312) 668-0427',
  '+1 (613) 706-5892',
  '+1 (708) 271-9116',
];

const relasePhone = () => {
  for (let i = 0; i < phone_numbers.length; i++) {
    client
      .incomingPhoneNumbers('IncomingPhoneNumberSid')
      .remove()
      .then((incoming_phone_number) => console.log(incoming_phone_number.sid))
      .done();
  }
};
// main().catch(console.error);
